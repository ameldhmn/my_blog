<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-03-07">

<title>my_blog - Exercices - Semaine 2️⃣</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">my_blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/ameldhmn" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Exercices - Semaine 2️⃣</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">code</div>
                <div class="quarto-category">analysis</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 7, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="exercices---semaine-2" class="level2">
<h2 class="anchored" data-anchor-id="exercices---semaine-2">Exercices - Semaine 2</h2>
<section id="préparation" class="level3">
<h3 class="anchored" data-anchor-id="préparation">Préparation</h3>
<div style="text-align: justify;">
<p>Démarrez un nouveau projet rstudio intitulé TP2. Installez la library rvest en utilisant la commande install.packages(“rvest”). Cette librairie sera utilisée pour lire des tables de données directement depuis le web. De même, installez le package purrr.</p>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages(c("rvest", "dplyr", "purrr"))</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'rvest'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:readr':

    guess_encoding</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exercice" class="level3">
<h3 class="anchored" data-anchor-id="exercice">Exercice</h3>
</section>
<section id="question-1" class="level3">
<h3 class="anchored" data-anchor-id="question-1">Question 1</h3>
<section id="lancez-la-commande-suivante" class="level4">
<h4 class="anchored" data-anchor-id="lancez-la-commande-suivante">Lancez la commande suivante :</h4>
<p>list_tables &lt;- session(“<a href="https://fr.wikipedia.org/wiki/Liste_des_m%C3%A9daill%C3%A9s_olympiques%22">https://fr.wikipedia.org/wiki/Liste_des_m%C3%A9daill%C3%A9s_olympiques”)</a>) |&gt; html_elements(”.wikitable”) |&gt; html_table()</p>
<p>Que s’est-il passé ? Que contient l’objet list_tables ?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>list_tables <span class="ot">&lt;-</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">session</span>(<span class="st">"https://fr.wikipedia.org/wiki/Liste_des_m%C3%A9daill%C3%A9s_olympiques"</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_elements</span>(<span class="st">".wikitable"</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_table</span>()</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>list_tables <span class="co"># A tibble: 24 × 11</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
# A tibble: 31 × 11
   Discipline   Discipline   Années `Nombre de` `Nombre de` `médailles décernés`
   &lt;chr&gt;        &lt;chr&gt;        &lt;chr&gt;  &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;               
 1 "Discipline" Discipline   Années Éditions    Épreuves(e… Or                  
 2 ""           Athlétisme   Depui… 29          48          1028                
 3 ""           Aviron       Depui… 28          14          269                 
 4 ""           Badminton    Depui… 8           5           39                  
 5 ""           Basket-ball  Depui… 20          4           32                  
 6 ""           Boxe         1904,… 26          13          266                 
 7 ""           Canoë-kayak  Depui… 20          16          242                 
 8 ""           Cyclisme(ho… Depui… 29          22          263                 
 9 ""           Équitation   1900,… 26          6           151                 
10 ""           Escrime      Depui… 29          12          223                 
# ℹ 21 more rows
# ℹ 5 more variables: `médailles décernés` &lt;chr&gt;, `médailles décernés` &lt;chr&gt;,
#   `médailles décernés` &lt;chr&gt;,
#   `Athlète(s) avec le plus de médailles (Or-Argent-Bronze)` &lt;chr&gt;,
#   `Athlète(s) avec le plus de médailles d'or` &lt;chr&gt;

[[2]]
# A tibble: 16 × 11
   Discipline   Discipline   Années `Nombre de` `Nombre de` `médailles décernés`
   &lt;chr&gt;        &lt;chr&gt;        &lt;chr&gt;  &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;               
 1 "Discipline" Discipline   Années Éditions    épreuves e… Or                  
 2 ""           Biathlon     1924,… 16          11          54                  
 3 ""           Bobsleigh    1924-… 21          3           39                  
 4 ""           Combiné nor… Depui… 22          3           28                  
 5 ""           Curling      1924,… 4           2           7                   
 6 ""           Hockey sur … Été&nbsp;:… 23          2           24                  
 7 ""           Luge         Depui… 14          4           37                  
 8 ""           Patinage ar… Été&nbsp;:… 24          4           77                  
 9 ""           Patinage de… Depui… 22          12          152                 
10 ""           Patinage de… Depui… 7           8           32                  
11 ""           Saut à ski   Depui… 22          4           38                  
12 ""           Skeleton     1924,… 6           2           6                   
13 ""           Ski acrobat… Depui… 7           10          18                  
14 ""           Ski alpin    Depui… 19          10          132                 
15 ""           Ski de fond  Depui… 22          12          134                 
16 ""           Snowboard    Depui… 5           10          14                  
# ℹ 5 more variables: `médailles décernés` &lt;chr&gt;, `médailles décernés` &lt;chr&gt;,
#   `médailles décernés` &lt;chr&gt;,
#   `Athlète(s) avec le plus de médailles (Or-Argent-Bronze)` &lt;chr&gt;,
#   `Athlète(s) avec le plus de médailles d'or` &lt;chr&gt;

[[3]]
# A tibble: 14 × 8
   Discipline   Discipline       Années `Nombre d'éditions` `Médailles décernés`
   &lt;chr&gt;        &lt;chr&gt;            &lt;chr&gt;  &lt;chr&gt;               &lt;chr&gt;               
 1 "Discipline" Discipline       Années Nombre d'éditions   Or                  
 2 ""           Baseball         1992–… 5                   5                   
 3 ""           Pelote basque    1900   1                   1                   
 4 ""           Cricket          1900   1                   1                   
 5 ""           Croquet          1900   1                   3                   
 6 ""           Jeu de paume     1908   1                   1                   
 7 ""           Crosse           1904–… 2                   2                   
 8 ""           Polo             1900,… 5                   5                   
 9 ""           Jeu de raquettes 1908   1                   2                   
10 ""           Roque            1904   1                   1                   
11 ""           Rugby à XV       1900,… 4                   4                   
12 ""           Softball         1996–… 4                   4                   
13 ""           Tir à la corde   1900–… 5                   5                   
14 ""           Motonautisme     1908   5                   3                   
# ℹ 3 more variables: `Médailles décernés` &lt;chr&gt;, `Médailles décernés` &lt;chr&gt;,
#   `Médailles décernés` &lt;chr&gt;

[[4]]
# A tibble: 2 × 8
  Discipline   Discipline        Années `Nombre d'éditions` `Médailles décernés`
  &lt;chr&gt;        &lt;chr&gt;             &lt;chr&gt;  &lt;chr&gt;               &lt;chr&gt;               
1 "Discipline" Discipline        Années Nombre d'éditions   Or                  
2 ""           Patrouille milit… 1924   1                   1                   
# ℹ 3 more variables: `Médailles décernés` &lt;chr&gt;, `Médailles décernés` &lt;chr&gt;,
#   `Médailles décernés` &lt;chr&gt;

[[5]]
# A tibble: 30 × 11
   Jeux  Médaille  Médaille Hôte     Nombred'épreuves(ave…¹ `Médailles décernés`
   &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;                  &lt;chr&gt;               
 1 Jeux  Médaille  Médaille Hôte     Nombred'épreuves(avec… Or                  
 2 1896  médaillés tableau  Athènes… 43                     43                  
 3 1900  médaillés tableau  Paris, … 95                     90                  
 4 1904  médaillés tableau  Saint-L… 91                     96                  
 5 1908  médaillés tableau  Londres… 110                    110                 
 6 1912  médaillés tableau  Stockho… 102                    103                 
 7 1920  médaillés tableau  Anvers,… 154                    156                 
 8 1924  médaillés tableau  Paris, … 126                    126                 
 9 1928  médaillés tableau  Amsterd… 109                    111                 
10 1932  médaillés tableau  Los Ang… 117                    116                 
# ℹ 20 more rows
# ℹ abbreviated name: ¹​`Nombred'épreuves(avec médailles)`
# ℹ 5 more variables: `Médailles décernés` &lt;chr&gt;, `Médailles décernés` &lt;chr&gt;,
#   `Médailles décernés` &lt;chr&gt;,
#   `Athlète(s) avec le plus de médailles (Or-Argent-Bronze)` &lt;chr&gt;,
#   `Athlète(s) avec le plus de médailles d'or` &lt;chr&gt;

[[6]]
# A tibble: 24 × 11
   Jeux  Médaille  Médaille Hôte     Nombred'épreuves(ave…¹ `Médailles décernés`
   &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;                  &lt;chr&gt;               
 1 Jeux  Médaille  Médaille Hôte     Nombred'épreuves(avec… Or                  
 2 1924  médaillés tableau  Chamoni… 16                     16                  
 3 1928  médaillés tableau  Saint-M… 14                     14                  
 4 1932  médaillés tableau  Lake Pl… 14                     14                  
 5 1936  médaillés tableau  Garmisc… 17                     17                  
 6 1948  médaillés tableau  Saint-M… 22                     22                  
 7 1952  médaillés tableau  Oslo, N… 22                     22                  
 8 1956  médaillés tableau  Cortina… 24                     25                  
 9 1960  médaillés tableau  Squaw V… 27                     28                  
10 1964  médaillés tableau  Innsbru… 34                     34                  
# ℹ 14 more rows
# ℹ abbreviated name: ¹​`Nombred'épreuves(avec médailles)`
# ℹ 5 more variables: `Médailles décernés` &lt;chr&gt;, `Médailles décernés` &lt;chr&gt;,
#   `Médailles décernés` &lt;chr&gt;,
#   `Athlète(s) avec le plus de médailles (Or-Argent-Bronze)` &lt;chr&gt;,
#   `Athlète(s) avec le plus de médailles d'or` &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(list_tables[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Le code a réussi à extraire les tables HTML de la page Wikipédia et les a stocker dans la variable list_tables qui apparait dans l’nevironnement R Studio.</p>
<p>L’objet list_tables contient 6 tables différentes de dimensions différentes.</p>
</section>
</section>
<section id="question-2" class="level3">
<h3 class="anchored" data-anchor-id="question-2">Question 2</h3>
<section id="nous-allons-tout-dabord-nous-interesser-a-la-premiere-table.-creez-un-objet-intitule-data_medailles_sport_ete-contenant-le-premier-element-de-list_tables.-la-table-nest-pas-bien-formattee.-supprimez-la-premiere-colonne-les-noms-de-colonnes-et-la-premiere-ligne.-renommez-les-colonnes-en-cdiscipline-annees-editions-epreuves_2020-or-argent-bronze-total-athletes_medailles-athletes_or.-les-colonnes-editions-epreuves_2020-or-argent-bronze-total-seront-converties-en-colonnes-dentiers." class="level4" style="text-align: justify;">
<h4 style="text-align: justify;" class="anchored" data-anchor-id="nous-allons-tout-dabord-nous-interesser-a-la-premiere-table.-creez-un-objet-intitule-data_medailles_sport_ete-contenant-le-premier-element-de-list_tables.-la-table-nest-pas-bien-formattee.-supprimez-la-premiere-colonne-les-noms-de-colonnes-et-la-premiere-ligne.-renommez-les-colonnes-en-cdiscipline-annees-editions-epreuves_2020-or-argent-bronze-total-athletes_medailles-athletes_or.-les-colonnes-editions-epreuves_2020-or-argent-bronze-total-seront-converties-en-colonnes-dentiers.">Nous allons tout d’abord nous intéresser à la première table. Créez un objet intitulé data_medailles_sport_ete contenant le premier élément de list_tables. La table n’est pas bien formattée. Supprimez la première colonne, les noms de colonnes et la première ligne. Renommez les colonnes en c(“Discipline”, “Annees”, “Editions”, “Epreuves_2020”, “Or”, “Argent”, “Bronze”, “Total”, “Athletes_medailles”, “Athletes_or”). Les colonnes Editions, Epreuves_2020, Or, Argent, Bronze, Total seront converties en colonnes d’entiers.</h4>
</section>
<section id="création-de-lobjet-intitulé-data_medailles_sport_ete" class="level5">
<h5 class="anchored" data-anchor-id="création-de-lobjet-intitulé-data_medailles_sport_ete">Création de l’objet intitulé data_medailles_sport_ete</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>data_medailles_sport_ete<span class="ot">&lt;-</span> list_tables[[<span class="dv">1</span>]]</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(data_medailles_sport_ete)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 31 × 11
   Discipline   Discipline   Années `Nombre de` `Nombre de` `médailles décernés`
   &lt;chr&gt;        &lt;chr&gt;        &lt;chr&gt;  &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;               
 1 "Discipline" Discipline   Années Éditions    Épreuves(e… Or                  
 2 ""           Athlétisme   Depui… 29          48          1028                
 3 ""           Aviron       Depui… 28          14          269                 
 4 ""           Badminton    Depui… 8           5           39                  
 5 ""           Basket-ball  Depui… 20          4           32                  
 6 ""           Boxe         1904,… 26          13          266                 
 7 ""           Canoë-kayak  Depui… 20          16          242                 
 8 ""           Cyclisme(ho… Depui… 29          22          263                 
 9 ""           Équitation   1900,… 26          6           151                 
10 ""           Escrime      Depui… 29          12          223                 
# ℹ 21 more rows
# ℹ 5 more variables: `médailles décernés` &lt;chr&gt;, `médailles décernés` &lt;chr&gt;,
#   `médailles décernés` &lt;chr&gt;,
#   `Athlète(s) avec le plus de médailles (Or-Argent-Bronze)` &lt;chr&gt;,
#   `Athlète(s) avec le plus de médailles d'or` &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="suppression-de-la-première-colonne" class="level5">
<h5 class="anchored" data-anchor-id="suppression-de-la-première-colonne">Suppression de la première colonne</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>data_medailles_sport_ete<span class="ot">&lt;-</span>data_medailles_sport_ete[, <span class="sc">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="suppression-des-noms-de-colonnes" class="level5">
<h5 class="anchored" data-anchor-id="suppression-des-noms-de-colonnes">Suppression des noms de colonnes</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>data_medailles_sport_ete<span class="ot">&lt;-</span>data_medailles_sport_ete[ <span class="sc">-</span><span class="dv">1</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="suppression-de-la-première-ligne" class="level5">
<h5 class="anchored" data-anchor-id="suppression-de-la-première-ligne">Suppression de la première ligne</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_medailles_sport_ete) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="renommage-des-colonnes" class="level5">
<h5 class="anchored" data-anchor-id="renommage-des-colonnes">Renommage des colonnes</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_medailles_sport_ete)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"Discipline"</span>, <span class="st">"Annees"</span>, <span class="st">"Editions"</span>, <span class="st">"Epreuves_2020"</span>, <span class="st">"Or"</span>, <span class="st">"Argent"</span>, <span class="st">"Bronze"</span>, <span class="st">"Total"</span>, <span class="st">"Athletes_medailles"</span>, <span class="st">"Athletes_or"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="conversion-de-colonnes-en-colonnes-dentiers" class="level5">
<h5 class="anchored" data-anchor-id="conversion-de-colonnes-en-colonnes-dentiers">Conversion de colonnes en colonnes d’entiers</h5>
</section>
<section id="méthode-1" class="level5">
<h5 class="anchored" data-anchor-id="méthode-1">méthode 1</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>data_medailles_sport_ete <span class="ot">&lt;-</span> data_medailles_sport_ete <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Editions =</span> <span class="fu">as.integer</span>(Editions),</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">Epreuves_2020 =</span> <span class="fu">as.integer</span>(Epreuves_2020),</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">Or =</span> <span class="fu">as.integer</span>(Or),</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">Argent =</span> <span class="fu">as.integer</span>(Argent),</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">Bronze =</span> <span class="fu">as.integer</span>(Bronze),</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">Total =</span> <span class="fu">as.integer</span>(Total))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="méthode-2" class="level5">
<h5 class="anchored" data-anchor-id="méthode-2">méthode 2</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>cols_a_convertir <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Editions"</span>, <span class="st">"Epreuves_2020"</span>, <span class="st">"Or"</span>, <span class="st">"Argent"</span>, <span class="st">"Bronze"</span>, <span class="st">"Total"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>data_medailles_sport_ete[cols_a_convertir] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(data_medailles_sport_ete[cols_a_convertir], as.integer)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(data_medailles_sport_ete)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 10
   Discipline            Annees Editions Epreuves_2020    Or Argent Bronze Total
   &lt;chr&gt;                 &lt;chr&gt;     &lt;int&gt;         &lt;int&gt; &lt;int&gt;  &lt;int&gt;  &lt;int&gt; &lt;int&gt;
 1 Athlétisme            Depui…       29            48  1028   1030   1027  3085
 2 Aviron                Depui…       28            14   269    268    273   810
 3 Badminton             Depui…        8             5    39     39     43   121
 4 Basket-ball           Depui…       20             4    32     32     32    96
 5 Boxe                  1904,…       26            13   266    266    472  1004
 6 Canoë-kayak           Depui…       20            16   242    241    243   726
 7 Cyclisme(hommes, fem… Depui…       29            22   263    261    260   784
 8 Équitation            1900,…       26             6   151    149    148   448
 9 Escrime               Depui…       29            12   223    223    221   667
10 Football              1900–…       27             2    34     34     35   103
# ℹ 20 more rows
# ℹ 2 more variables: Athletes_medailles &lt;chr&gt;, Athletes_or &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data_medailles_sport_ete)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [30 × 10] (S3: tbl_df/tbl/data.frame)
 $ Discipline        : chr [1:30] "Athlétisme" "Aviron" "Badminton" "Basket-ball" ...
 $ Annees            : chr [1:30] "Depuis 1896" "Depuis 1900" "Depuis 1992" "Depuis 1936" ...
 $ Editions          : int [1:30] 29 28 8 20 26 20 29 26 29 27 ...
 $ Epreuves_2020     : int [1:30] 48 14 5 4 13 16 22 6 12 2 ...
 $ Or                : int [1:30] 1028 269 39 32 266 242 263 151 223 34 ...
 $ Argent            : int [1:30] 1030 268 39 32 266 241 261 149 223 34 ...
 $ Bronze            : int [1:30] 1027 273 43 32 472 243 260 148 221 35 ...
 $ Total             : int [1:30] 3085 810 121 96 1004 726 784 448 667 103 ...
 $ Athletes_medailles: chr [1:30] "Paavo Nurmi (FIN) (9-3-0)" "Elisabeta Lipă (ROU) (5-2-1)" "Gao Ling (CHN) (2-1-1)" "Teresa Edwards (USA) (4-0-1)" ...
 $ Athletes_or       : chr [1:30] "Paavo Nurmi (FIN) (9-3-0) Carl Lewis (USA) (9-1-0)" "Elisabeta Lipă (ROU) (5-2-1) Georgeta Damian (ROU) (5-0-1) Steven Redgrave (GBR) (5-0-1)" "Gao Ling (CHN) (2-1-1) Kim Dong-moon (KOR) (2-0-1) Zhang Nan (CHN) (2-0-1) Ge Fei (CHN) (2-0-0) Gu Jun (CHN) (2"| __truncated__ "Teresa Edwards (USA) (4-0-1) Sue Bird (USA) (4-0-0) Tamika Catchings (USA) (4-0-0) Lisa Leslie (USA) (4-0-0) Di"| __truncated__ ...</code></pre>
</div>
</div>
</section>
</section>
<section id="question-3" class="level3">
<h3 class="anchored" data-anchor-id="question-3">Question 3</h3>
<section id="quelles-sont-les-3-disciplines-avec-le-plus-de-medailles-distribuees-depuis-le-debut-de-lhistoire-des-jeux-olympiques" class="level4">
<h4 class="anchored" data-anchor-id="quelles-sont-les-3-disciplines-avec-le-plus-de-medailles-distribuees-depuis-le-debut-de-lhistoire-des-jeux-olympiques">Quelles sont les 3 disciplines avec le plus de médailles distribuées depuis le début de l’histoire des jeux olympiques ?</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>top3_disciplines <span class="ot">&lt;-</span> data_medailles_sport_ete <span class="sc">|&gt;</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Total)) <span class="sc">|&gt;</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">3</span>) <span class="sc">|&gt;</span> </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Discipline, Total)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>top3_disciplines  <span class="co">#Athletisme, Natation, Lutte </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  Discipline               Total
  &lt;chr&gt;                    &lt;int&gt;
1 Athlétisme                3085
2 Natation(hommes, femmes)  1814
3 Lutte                     1358</code></pre>
</div>
</div>
<p>L’athélisme, la natation et la lutte sont les trois disciplines avec le plus de médailles distribuées depuis le debut de l’histoire des JO.</p>
</section>
</section>
<section id="question-4" class="level3">
<h3 class="anchored" data-anchor-id="question-4">Question 4</h3>
<section id="quelles-sont-les-disciplines-avec-le-moins-depreuves-en-2020" class="level4">
<h4 class="anchored" data-anchor-id="quelles-sont-les-disciplines-avec-le-moins-depreuves-en-2020">Quelles sont les disciplines avec le moins d’épreuves en 2020 ?</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>moins_epreuves_2020 <span class="ot">&lt;-</span> data_medailles_sport_ete <span class="sc">|&gt;</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Discipline) <span class="sc">|&gt;</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(Epreuves_2020) <span class="sc">|&gt;</span> </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Epreuves_2020) <span class="sc">|&gt;</span> </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>moins_epreuves_2020</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 2
   Discipline            Epreuves_2020
   &lt;chr&gt;                         &lt;int&gt;
 1 Football                          2
 2 Golf                              2
 3 Handball                          2
 4 Hockey sur gazon                  2
 5 Natation synchronisée             2
 6 Pentathlon moderne                2
 7 Volley-ball                       2
 8 Water polo                        2
 9 Triathlon                         3
10 Basket-ball                       4</code></pre>
</div>
</div>
<p>Parmi les discplines ci-dessus, les 8 premières sont celles qui avec un nombre de 2 épreuves en présentent le moins.</p>
</section>
</section>
<section id="question-5" class="level3">
<h3 class="anchored" data-anchor-id="question-5">Question 5</h3>
<section id="la-colonne-editions-nous-renseigne-sur-le-nombre-total-dapparence-des-disciplines-aux-jo-dete.-nous-souhaitons-verifier-ce-calcul-en-implementant-notre-propre-fonction-calcul_nb_editions_int.-dans-un-premier-temps-la-fonction-calcul_nb_editions-prendra-en-entree-un-parametre-depuis-de-type-entier-qui-represente-depuis-quelle-annee-la-discipline-est-au-programme." class="level4" style="text-align: justify;">
<h4 style="text-align: justify;" class="anchored" data-anchor-id="la-colonne-editions-nous-renseigne-sur-le-nombre-total-dapparence-des-disciplines-aux-jo-dete.-nous-souhaitons-verifier-ce-calcul-en-implementant-notre-propre-fonction-calcul_nb_editions_int.-dans-un-premier-temps-la-fonction-calcul_nb_editions-prendra-en-entree-un-parametre-depuis-de-type-entier-qui-represente-depuis-quelle-annee-la-discipline-est-au-programme.">La colonne Editions nous renseigne sur le nombre total d’apparence des disciplines aux JO d’été. Nous souhaitons vérifier ce calcul en implémentant notre propre fonction calcul_nb_editions_int. Dans un premier temps, la fonction calcul_nb_editions prendra en entrée un paramètre depuis, de type entier, qui représente depuis quelle année la discipline est au programme.</h4>
</section>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>calcul_nb_editions <span class="ot">&lt;-</span> <span class="cf">function</span>(depuis_annee, data_medailles_sport_ete) {</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  data_medailles_sport_ete<span class="sc">$</span>Annees <span class="ot">&lt;-</span> <span class="fu">as.character</span>(data_medailles_sport_ete<span class="sc">$</span>Annees)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  data_medailles_sport_ete<span class="sc">$</span>Annees <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">".*(</span><span class="sc">\\</span><span class="st">d{4}).*"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>, data_medailles_sport_ete<span class="sc">$</span>Annees)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  data_medailles_sport_ete<span class="sc">$</span>Annees <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data_medailles_sport_ete<span class="sc">$</span>Annees)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  disciplines_filtrees <span class="ot">&lt;-</span> <span class="fu">subset</span>(data_medailles_sport_ete, Annees <span class="sc">&gt;=</span> depuis_annee)</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Editions <span class="sc">~</span> Discipline, disciplines_filtrees, sum)</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(result)</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>resultat <span class="ot">&lt;-</span> <span class="fu">calcul_nb_editions</span>(<span class="dv">1800</span>, data_medailles_sport_ete)</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(resultat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    Discipline Editions
1                   Athlétisme       29
2                       Aviron       28
3                    Badminton        8
4                  Basket-ball       20
5                         Boxe       26
6                  Canoë-kayak       20
7     Cyclisme(hommes, femmes)       29
8                   Équitation       26
9                      Escrime       29
10                    Football       27
11                        Golf        4
12 Gymnastique(hommes, femmes)       29
13               Haltérophilie       26
14                    Handball       14
15            Hockey sur gazon       24
16                        Judo       14
17                       Lutte       28
18       Natation synchronisée       10
19    Natation(hommes, femmes)       29
20          Pentathlon moderne       25
21                    Plongeon       27
22                   Taekwondo        6
23                      Tennis       16
24             Tennis de table        9
25                         Tir       27
26                 Tir à l'arc       17
27                   Triathlon        6
28                       Voile       27
29                 Volley-ball       15
30                  Water polo       26</code></pre>
</div>
</div>
<p>Dans cette fonction, nous traitons les données des médailles olympiques d’été pour calculer le nombre total d’éditions pour chaque discipline sportive, en se basant sur l’année spécifiée par l’utilisateur. Tout d’abord, nous convertissons la colonne “Années” en chaînes de caractères pour uniformiser les données, puis nous extrayons les années pertinentes à l’aide d’une expression régulière. Ensuite, nous convertissons ces années en données numériques pour faciliter les calculs ultérieurs. En filtrant les données à partir de l’année spécifiée, nous excluons les éditions antérieures, avant d’agréger les résultats pour chaque discipline sportive, calculant ainsi la somme des éditions.</p>
</section>
<section id="question-6" class="level3">
<h3 class="anchored" data-anchor-id="question-6">Question 6</h3>
<section id="dans-certains-cas-les-disciplines-ont-ete-au-programme-de-facon-discontinue.-proposez-une-nouvelle-fonction-calcul_nb_editions_str-qui-prendra-cette-fois-ci-en-entree-des-chaines-de-caracteres.-par-exemple-lappel-suivant" class="level4">
<h4 class="anchored" data-anchor-id="dans-certains-cas-les-disciplines-ont-ete-au-programme-de-facon-discontinue.-proposez-une-nouvelle-fonction-calcul_nb_editions_str-qui-prendra-cette-fois-ci-en-entree-des-chaines-de-caracteres.-par-exemple-lappel-suivant">Dans certains cas, les disciplines ont été au programme de façon discontinue. Proposez une nouvelle fonction calcul_nb_editions_str qui prendra cette fois-ci en entrée des chaînes de caractères. Par exemple, l’appel suivant:</h4>
</section>
<section id="calcul_nb_editions_str1896-1904-depuis-1920" class="level4">
<h4 class="anchored" data-anchor-id="calcul_nb_editions_str1896-1904-depuis-1920">calcul_nb_editions_str(“1896, 1904, depuis 1920”)</h4>
</section>
<section id="retournera-la-valeur-26" class="level4">
<h4 class="anchored" data-anchor-id="retournera-la-valeur-26">retournera la valeur 26</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>calcul_nb_editions_str <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">&lt;-</span> <span class="fu">str_split</span>(x, <span class="st">","</span>, <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  part <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">"(?i)depuis|[-—–—]"</span>, r[,]), <span class="st">"1"</span>, r[,])</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(part)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>calcul_nb_editions_int <span class="ot">&lt;-</span> <span class="cf">function</span>(part) {</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  depuis_years <span class="ot">&lt;-</span> <span class="fu">str_extract_all</span>(part, <span class="st">"(?i)depuis</span><span class="sc">\\</span><span class="st">s+(</span><span class="sc">\\</span><span class="st">d{4})"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unlist</span>() <span class="sc">|&gt;</span> </span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_extract</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">d+"</span>)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>  Calcul_edition <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(depuis_years)</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> (<span class="dv">2024</span> <span class="sc">-</span> Calcul_edition) <span class="sc">/</span> <span class="dv">4</span> <span class="sc">-</span> <span class="fu">ifelse</span>(Calcul_edition <span class="sc">&lt;</span> <span class="dv">1916</span>, <span class="dv">3</span>, <span class="fu">ifelse</span>(Calcul_edition <span class="sc">&lt;</span> <span class="dv">1944</span>, <span class="dv">2</span>, <span class="dv">0</span>))</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>  part2 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"(?i)depuis</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">d{4}"</span>, part), <span class="fu">as.character</span>(result), part)</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(part2)</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>calcul_final <span class="ot">&lt;-</span> <span class="cf">function</span>(part2) {</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>  part2_numerique <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(part2)</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>  resultat_final <span class="ot">&lt;-</span> <span class="fu">sum</span>(part2_numerique)</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(resultat_final)</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>calcul_nb_editions <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>  part1 <span class="ot">&lt;-</span> <span class="fu">calcul_nb_editions_str</span>(x)</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>  part2 <span class="ot">&lt;-</span> <span class="fu">calcul_nb_editions_int</span>(part1)</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>  resultat_final <span class="ot">&lt;-</span> <span class="fu">calcul_final</span>(part2)</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(resultat_final)</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>resultat2 <span class="ot">&lt;-</span> <span class="fu">calcul_nb_editions</span>(<span class="st">"1896, 1904, depuis 1920"</span>)</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(resultat2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 26</code></pre>
</div>
</div>
<p>La valeur 26 a bien été retournée.</p>
</section>
</section>
<section id="question-7" class="level3">
<h3 class="anchored" data-anchor-id="question-7">Question 7</h3>
<div style="text-align: justify;">
<section id="definissez-une-fonction-generique-calcul_nb_editions-et-deux-implementations-calcul_nb_editions.integer-et-calcul_nb_editions.character.-quels-resultats-donnent-les-appels" class="level4" style="text-align: justify;">
<h4 style="text-align: justify;" class="anchored" data-anchor-id="definissez-une-fonction-generique-calcul_nb_editions-et-deux-implementations-calcul_nb_editions.integer-et-calcul_nb_editions.character.-quels-resultats-donnent-les-appels">Définissez une fonction générique calcul_nb_editions et deux implémentations calcul_nb_editions.integer et ’calcul_nb_editions.character. Quels résultats donnent les appels :</h4>
</section>
<section id="calcul_nb_editions2000" class="level4" style="text-align: justify;">
<h4 style="text-align: justify;" class="anchored" data-anchor-id="calcul_nb_editions2000">calcul_nb_editions(2000)</h4>
</section>
<section id="calcul_nb_editions19041924-depuis-1948" class="level4" style="text-align: justify;">
<h4 style="text-align: justify;" class="anchored" data-anchor-id="calcul_nb_editions19041924-depuis-1948">calcul_nb_editions(“1904–1924, depuis 1948”)</h4>
</section>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>calcul_nb_editions_str <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">&lt;-</span> <span class="fu">str_split</span>(x, <span class="st">","</span>, <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  part <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">"(?i)depuis|[-—–—]"</span>, r[,]), <span class="st">"1"</span>, r[,])</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(part)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>calcul_nb_editions_int <span class="ot">&lt;-</span> <span class="cf">function</span>(part) {</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  depuis_years <span class="ot">&lt;-</span> <span class="fu">str_extract_all</span>(part, <span class="st">"(?i)depuis</span><span class="sc">\\</span><span class="st">s+(</span><span class="sc">\\</span><span class="st">d{4})"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unlist</span>() <span class="sc">|&gt;</span> </span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_extract</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">d+"</span>)</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>  Calcul_edition <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(depuis_years)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> (<span class="dv">2024</span> <span class="sc">-</span> Calcul_edition) <span class="sc">/</span> <span class="dv">4</span> <span class="sc">-</span> <span class="fu">ifelse</span>(Calcul_edition <span class="sc">&lt;</span> <span class="dv">1916</span>, <span class="dv">3</span>, <span class="fu">ifelse</span>(Calcul_edition <span class="sc">&lt;</span> <span class="dv">1944</span>, <span class="dv">2</span>, <span class="dv">0</span>))</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>  part2 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"(?i)depuis</span><span class="sc">\\</span><span class="st">s+</span><span class="sc">\\</span><span class="st">d{4}"</span>, part), <span class="fu">as.character</span>(result), part)</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(part2)</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>calcul_nb_editions.character <span class="ot">&lt;-</span> <span class="cf">function</span>(part2) {</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>  dates <span class="ot">&lt;-</span> <span class="fu">str_match</span>(part2, <span class="st">"([file://</span><span class="sc">\\</span><span class="st">d{4})</span><span class="sc">\\</span><span class="st">s*[-—–]</span><span class="sc">\\</span><span class="st">s*(</span><span class="sc">\\</span><span class="st">d{4}]</span><span class="sc">\\</span><span class="st">d{4})</span><span class="sc">\\</span><span class="st">s*[-—–]</span><span class="sc">\\</span><span class="st">s*(</span><span class="sc">\\</span><span class="st">d{4})"</span>)</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(dates[<span class="dv">1</span>, <span class="dv">2</span>])</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>  b <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(dates[<span class="dv">1</span>, <span class="dv">3</span>])</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(a <span class="sc">&lt;</span> <span class="dv">1915</span> <span class="sc">&amp;</span> b <span class="sc">&gt;</span> <span class="dv">1917</span>, <span class="dv">1</span>,</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>              <span class="fu">ifelse</span>(a <span class="sc">&lt;</span> <span class="dv">1915</span> <span class="sc">&amp;</span> b <span class="sc">&gt;</span> <span class="dv">1945</span>, <span class="dv">3</span>,</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(<span class="dv">1917</span> <span class="sc">&lt;</span> a <span class="sc">&amp;</span> a <span class="sc">&lt;</span> <span class="dv">1939</span> <span class="sc">&amp;</span> b <span class="sc">&gt;</span> <span class="dv">1945</span>, <span class="dv">2</span>, <span class="dv">0</span>)))</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>  c_value <span class="ot">&lt;-</span> (b <span class="sc">-</span> a) <span class="sc">/</span> <span class="dv">4</span> <span class="sc">+</span> <span class="dv">1</span> <span class="sc">-</span> x</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>  part3 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"(</span><span class="sc">\\</span><span class="st">d{4})</span><span class="sc">\\</span><span class="st">s*[-—–]</span><span class="sc">\\</span><span class="st">s*(</span><span class="sc">\\</span><span class="st">d{4})"</span>, part2), <span class="fu">as.character</span>(c_value), part2)</span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(part3)</span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>calcul_final2 <span class="ot">&lt;-</span> <span class="cf">function</span>(part3) {</span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>part3_numerique <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(part3[<span class="fu">grepl</span>(<span class="st">"^</span><span class="sc">\\</span><span class="st">d+$"</span>, part3)])</span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>  resultat_final <span class="ot">&lt;-</span> <span class="fu">sum</span>(part3_numerique)</span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(resultat_final)</span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>calcul_nb_editions2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>  part1 <span class="ot">&lt;-</span> <span class="fu">calcul_nb_editions_str</span>(x)</span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>  part2 <span class="ot">&lt;-</span> <span class="fu">calcul_nb_editions_int</span>(part1)</span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>  part3 <span class="ot">&lt;-</span> <span class="fu">calcul_nb_editions.character</span>(part2)</span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a>  resultat_final <span class="ot">&lt;-</span> <span class="fu">calcul_final2</span>(part3)</span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(resultat_final)</span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-46"><a href="#cb31-46" aria-hidden="true" tabindex="-1"></a>resultat3 <span class="ot">&lt;-</span> <span class="fu">calcul_nb_editions</span>(<span class="dv">2000</span>)</span>
<span id="cb31-47"><a href="#cb31-47" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(resultat3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>resultat4 <span class="ot">&lt;-</span> <span class="fu">calcul_nb_editions</span>(<span class="st">"1904-1924, depuis 1948"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in calcul_final(part2): NAs introduced by coercion</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(resultat4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
</section>
<section id="question-8" class="level3">
<h3 class="anchored" data-anchor-id="question-8">Question 8</h3>
<div style="text-align: justify;">
<section id="en-athletisme-le-finlandais-paavo-nurmi-detient-le-record-de-medailles-avec-12-medailles-obtenues-lors-des-jo-dhiver." class="level4" style="text-align: justify;">
<h4 style="text-align: justify;" class="anchored" data-anchor-id="en-athletisme-le-finlandais-paavo-nurmi-detient-le-record-de-medailles-avec-12-medailles-obtenues-lors-des-jo-dhiver.">En Athlétisme, le Finlandais Paavo Nurmi détient le record de médailles avec 12 médailles obtenues lors des JO d’hiver.</h4>
</section>
<section id="implementez-une-fonction-calcul_medailles_individuelles-qui-determine-le-nombre-de-medaille-maximal-a-ete-obtenu-par-un-athlete-lors-dolympiades.-note-sil-y-a-plusieurs-athletes-a-egalite-alors-la-cellule-comporte-plusieurs-elements-et-une-manipulation-de-la-chaine-de-caracteres-est-necessaire." class="level4" style="text-align: justify;">
<h4 style="text-align: justify;" class="anchored" data-anchor-id="implementez-une-fonction-calcul_medailles_individuelles-qui-determine-le-nombre-de-medaille-maximal-a-ete-obtenu-par-un-athlete-lors-dolympiades.-note-sil-y-a-plusieurs-athletes-a-egalite-alors-la-cellule-comporte-plusieurs-elements-et-une-manipulation-de-la-chaine-de-caracteres-est-necessaire.">Implémentez une fonction calcul_medailles_individuelles qui détermine le nombre de médaille maximal a été obtenu par un athlète lors d’olympiades. Note : s’il y a plusieurs athlètes à égalité, alors la cellule comporte plusieurs éléments, et une manipulation de la chaîne de caractères est nécessaire.</h4>
</section>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>calcul_medailles_individuelles <span class="ot">&lt;-</span> <span class="cf">function</span>(data_medailles_sport_ete) {</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  total_medailles <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(data_medailles_sport_ete[, <span class="fu">c</span>(<span class="st">"Or"</span>, <span class="st">"Argent"</span>, <span class="st">"Bronze"</span>)])</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  max_medailles <span class="ot">&lt;-</span> <span class="fu">max</span>(total_medailles)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  athletes_max_medailles <span class="ot">&lt;-</span> data_medailles_sport_ete<span class="sc">$</span>Athletes_medailles[total_medailles <span class="sc">==</span> max_medailles]</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(athletes_max_medailles)</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>resultat5 <span class="ot">&lt;-</span> <span class="fu">calcul_medailles_individuelles</span>(data_medailles_sport_ete)</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(resultat5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Paavo Nurmi (FIN) (9-3-0)"</code></pre>
</div>
</div>
<p>C’est bien Paavo Nurmi qui ressort.</p>
</section>
<section id="question-9" class="level3">
<h3 class="anchored" data-anchor-id="question-9">Question 9</h3>
<section id="quel-est-le-top-3-des-athletes-vous-utiliserez-la-fonction-lapply-pour-appliquer-la-fonction-calcul_medailles_individuelles-a-chaque-element-de-la-colonne-athletes_medailles." class="level4" style="text-align: justify;">
<h4 style="text-align: justify;" class="anchored" data-anchor-id="quel-est-le-top-3-des-athletes-vous-utiliserez-la-fonction-lapply-pour-appliquer-la-fonction-calcul_medailles_individuelles-a-chaque-element-de-la-colonne-athletes_medailles.">Quel est le top 3 des athlètes ? Vous utiliserez la fonction lapply pour appliquer la fonction calcul_medailles_individuelles à chaque élément de la colonne Athletes_medailles.</h4>
</section>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>athletes <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">lapply</span>(data_medailles_sport_ete<span class="sc">$</span>Athletes_medailles, <span class="cf">function</span>(athletes) {</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calcul_medailles_individuelles</span>(data_medailles_sport_ete[data_medailles_sport_ete<span class="sc">$</span>Athletes_medailles <span class="sc">==</span> athletes, ])</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>}))</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>athletes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Paavo Nurmi (FIN) (9-3-0)"                                                                                                                                                                                                                                                                              
 [2] "Elisabeta Lipă (ROU) (5-2-1)"                                                                                                                                                                                                                                                                           
 [3] "Gao Ling (CHN) (2-1-1)"                                                                                                                                                                                                                                                                                 
 [4] "Teresa Edwards (USA) (4-0-1)"                                                                                                                                                                                                                                                                           
 [5] "László Papp (HUN) (3-0-0) Félix Savón (CUB) (3-0-0) Teófilo Stevenson (CUB) (3-0-0) Roniel Iglesias (CUB) (2-0-1) Boris Lagutin (URS) (2-0-1) Oleg Saitov (RUS) (2-0-1) Zou Shiming (CHN) (2-0-1) Roberto Cammarelle (ITA) (1-1-1) Zbigniew Pietrzykowski (POL) (0-1-2) Arnold Vanderlyde (NED) (0-0-3)"
 [6] "Birgit Fischer (GER) (8-4-0)"                                                                                                                                                                                                                                                                           
 [7] "Jason Kenny (GBR) (7-2-0)"                                                                                                                                                                                                                                                                              
 [8] "Isabell Werth (GER) (7-5-0)"                                                                                                                                                                                                                                                                            
 [9] "Edoardo Mangiarotti (ITA) (6-5-2)"                                                                                                                                                                                                                                                                      
[10] "Christie Rampone (USA) (3-1-0)"                                                                                                                                                                                                                                                                         
[11] "Chandler Egan (USA) (1-1-0) Lydia Ko (NZL) (0-1-1) Francis Newton (USA) (0-1-1)"                                                                                                                                                                                                                        
[12] "Larissa Latynina (URS) (9-5-4)"                                                                                                                                                                                                                                                                         
[13] "Andreï Lavrov (RUS) (3-0-1) Oh Seong-ok (KOR) (1-2-1)"                                                                                                                                                                                                                                                  
[14] "Pýrros Dímas (GRE) (3-0-1) Ronny Weller (GER) (1-2-1) Nikolaj Pešalov (BUL, CRO) (1-1-2) Norbert Schemansky (USA) (1-1-2) Eko Yuli Irawan (INA) (0-2-2)"                                                                                                                                                
[15] "Leslie Claudius (IND) (3-1-0) Udham Singh (IND) (3-1-0) Teun de Nooijer (NED) (2-2-0) Luciana Aymar (ARG) (0-2-2)"                                                                                                                                                                                      
[16] "Teddy Riner (FRA) (3-0-2) Ryōko Tani (JPN) (2-2-1)"                                                                                                                                                                                                                                                     
[17] "Wilfried Dietrich (RFA) (1-2-2)"                                                                                                                                                                                                                                                                        
[18] "Michael Phelps (USA) (23-3-2)"                                                                                                                                                                                                                                                                          
[19] "Svetlana Romashina (RUS) (7-0-0)"                                                                                                                                                                                                                                                                       
[20] "Pavel Lednev (URS) (2-2-3)"                                                                                                                                                                                                                                                                             
[21] "Dmitri Sautin (RUS) (2-2-4)"                                                                                                                                                                                                                                                                            
[22] "Hwang Kyung-seon (KOR) (2-0-1) Steven López (USA) (2-0-1) Hadi Saei (IRI) (2-0-1) María Espinoza (MEX) (1-1-1)"                                                                                                                                                                                         
[23] "Venus Williams (USA) (4-1-0) Kitty McKane (GBR) (1-2-2)"                                                                                                                                                                                                                                                
[24] "Ma Long (CHN) (5-0-0) Wang Nan (CHN) (4-1-0) Wang Hao (CHN) (2-3-0)"                                                                                                                                                                                                                                    
[25] "Carl Osburn (USA) (5-4-2)"                                                                                                                                                                                                                                                                              
[26] "Hubert Van Innis (BEL) (6-4-0)"                                                                                                                                                                                                                                                                         
[27] "Jonathan Brownlee (GBR) (1-1-1)"                                                                                                                                                                                                                                                                        
[28] "Ben Ainslie (GBR) (4-1-0) Robert Scheidt (BRA) (2-2-1) Torben Grael (BRA) (2-1-2)"                                                                                                                                                                                                                      
[29] "Ana Fernández (CUB) (3-0-1) Kerri Walsh (USA) (3-0-1) Inna Ryskal (URS) (2-2-0) Sérgio Dutra Santos (BRA) (2-2-0) Sergey Tetyukhin (RUS) (1-1-2)"                                                                                                                                                       
[30] "Dezső Gyarmati (HUN) (3-1-1)"                                                                                                                                                                                                                                                                           </code></pre>
</div>
</div>
<section id="nettoyage-du-nom-des-athlètes-en-supprimant-les-informations-sur-les-médailles" class="level5">
<h5 class="anchored" data-anchor-id="nettoyage-du-nom-des-athlètes-en-supprimant-les-informations-sur-les-médailles">Nettoyage du nom des athlètes en supprimant les informations sur les médailles</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>athletes_triees <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">s*</span><span class="sc">\\</span><span class="st">(.*</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">""</span>, athletes)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>top3_athletes <span class="ot">&lt;-</span> <span class="fu">head</span>(<span class="fu">sort</span>(<span class="fu">table</span>(athletes_triees), <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="dv">3</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(top3_athletes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>athletes_triees
Ana Fernández Andreï Lavrov   Ben Ainslie 
            1             1             1 </code></pre>
</div>
</div>
</section>
<section id="autre-méthode" class="level5">
<h5 class="anchored" data-anchor-id="autre-méthode">Autre méthode</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>table_medailles <span class="ot">&lt;-</span> <span class="fu">table</span>(data_medailles_sport_ete<span class="sc">$</span>Athletes_medailles)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>table_triee2 <span class="ot">&lt;-</span> <span class="fu">sort</span>(table_medailles, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>top3_athletes2 <span class="ot">&lt;-</span> <span class="fu">names</span>(table_triee2)[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(top3_athletes2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Ana Fernández (CUB) (3-0-1) Kerri Walsh (USA) (3-0-1) Inna Ryskal (URS) (2-2-0) Sérgio Dutra Santos (BRA) (2-2-0) Sergey Tetyukhin (RUS) (1-1-2)"
[2] "Andreï Lavrov (RUS) (3-0-1) Oh Seong-ok (KOR) (1-2-1)"                                                                                           
[3] "Ben Ainslie (GBR) (4-1-0) Robert Scheidt (BRA) (2-2-1) Torben Grael (BRA) (2-1-2)"                                                               </code></pre>
</div>
</div>
<p>Le top 3 des athlètes est :</p>
<ul>
<li><p>Ana Fernandez</p></li>
<li><p>Andreï Lavrov</p></li>
<li><p>Ben Ainslie</p></li>
</ul>
</section>
</section>
<section id="question-10" class="level3">
<h3 class="anchored" data-anchor-id="question-10">Question 10</h3>
<section id="quels-sont-les-3-nationalites-les-plus-representees-pour-toutes-les-epreuves-au-classement-du-nombre-de-medailles-dor-individuelles-reccueillies" class="level4" style="text-align: justify;">
<h4 style="text-align: justify;" class="anchored" data-anchor-id="quels-sont-les-3-nationalites-les-plus-representees-pour-toutes-les-epreuves-au-classement-du-nombre-de-medailles-dor-individuelles-reccueillies">Quels sont les 3 nationalités les plus représentées, pour toutes les épreuves, au classement du nombre de médailles d’or individuelles reccueillies ?</h4>
</section>
<ul>
<li><div style="text-align: justify;">
<ul>
<li><p>Pour ce faire, vous implémenterez une fonction extraire_nationalite_athlete qui à partir d’une chaine de charactère extraira le nombre d’athlète et leur nationalité. Par exemple, la chaine de caractère “Paavo Nurmi (FIN) (9-3-0) Carl Lewis (USA) (9-1-0)” donnera en sortie c(“FIN” = 1, “USA” = 1).</p></li>
<li><p>Vous utilisez la fonction lapply pour appliquer la fonction à toute la colonne.</p></li>
<li><p>Vous agrégerez les résultats de manière à sommer toutes les lignes et à obtenir les 3 nations les plus représentées, et leur effectif.</p></li>
</ul>
</div></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>extraire_nationalite_athlete <span class="ot">&lt;-</span> <span class="cf">function</span>(chaine) {</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  nationalites <span class="ot">&lt;-</span> <span class="fu">regmatches</span>(chaine, <span class="fu">gregexpr</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">b[A-Z]{3}</span><span class="sc">\\</span><span class="st">b"</span>, chaine, <span class="at">perl=</span><span class="cn">TRUE</span>))[[<span class="dv">1</span>]]</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(nationalites)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>nationalites_list <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">lapply</span>(data_medailles_sport_ete<span class="sc">$</span>Athletes_or, extraire_nationalite_athlete))</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>top3_nationalites <span class="ot">&lt;-</span> <span class="fu">head</span>(<span class="fu">sort</span>(<span class="fu">table</span>(nationalites_list), <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="dv">3</span>)</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(top3_nationalites)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>nationalites_list
USA CHN CUB 
 20  13   8 </code></pre>
</div>
</div>
<p>Les trois nations les plus représentées pour toutes les épreuves au classement du nombre de médailles d’or individuelles sont les suivantes :</p>
<ul>
<li><p>Les États-Unis (USA), avec un total de 20 médailles d’or individuelles</p></li>
<li><p>La Chine (CHN), qui a remporté 13 médailles d’or individuelles</p></li>
<li><p>Cuba (CUB), avec 8 médailles d’or individuelles</p></li>
</ul>
</section>
<section id="question-11" class="level3">
<h3 class="anchored" data-anchor-id="question-11">Question 11</h3>
<section id="interessez-vous-desormais-au-deuxieme-tableau-contenu-dans-list_tables-faisant-reference-aux-jo-dhiver.-appliquez-les-fonctions-calcul_medailles_individuelles-et-extraire_nationalite_athlete-aux-deux-dernieres-colonnes-a-la-maniere-des-questions-9-et-10.-cette-fois-ci-vous-utiliserez-la-fonction-appropriee-du-package-purrr-en-lieu-et-place-de-lapply.-quelles-sont-les-resultats-quelle-difference-voyez-vous-entre-lapply-et-les-fonctions-de-purrr" class="level4" style="text-align: justify;">
<h4 style="text-align: justify;" class="anchored" data-anchor-id="interessez-vous-desormais-au-deuxieme-tableau-contenu-dans-list_tables-faisant-reference-aux-jo-dhiver.-appliquez-les-fonctions-calcul_medailles_individuelles-et-extraire_nationalite_athlete-aux-deux-dernieres-colonnes-a-la-maniere-des-questions-9-et-10.-cette-fois-ci-vous-utiliserez-la-fonction-appropriee-du-package-purrr-en-lieu-et-place-de-lapply.-quelles-sont-les-resultats-quelle-difference-voyez-vous-entre-lapply-et-les-fonctions-de-purrr">Intéressez-vous désormais au deuxième tableau contenu dans list_tables, faisant référence aux JO d’hiver. Appliquez les fonctions calcul_medailles_individuelles et extraire_nationalite_athlete aux deux dernières colonnes, à la manière des questions 9 et 10. Cette fois-ci, vous utiliserez la fonction appropriée du package purrr en lieu et place de lapply. Quelles sont les résultats ? Quelle différence voyez-vous entre lapply et les fonctions de purrr ?</h4>
</section>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>hiver <span class="ot">&lt;-</span> list_tables[[<span class="dv">2</span>]]</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(hiver)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 11
   Discipline   Discipline   Années `Nombre de` `Nombre de` `médailles décernés`
   &lt;chr&gt;        &lt;chr&gt;        &lt;chr&gt;  &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;               
 1 "Discipline" Discipline   Années Éditions    épreuves e… Or                  
 2 ""           Biathlon     1924,… 16          11          54                  
 3 ""           Bobsleigh    1924-… 21          3           39                  
 4 ""           Combiné nor… Depui… 22          3           28                  
 5 ""           Curling      1924,… 4           2           7                   
 6 ""           Hockey sur … Été&nbsp;:… 23          2           24                  
 7 ""           Luge         Depui… 14          4           37                  
 8 ""           Patinage ar… Été&nbsp;:… 24          4           77                  
 9 ""           Patinage de… Depui… 22          12          152                 
10 ""           Patinage de… Depui… 7           8           32                  
11 ""           Saut à ski   Depui… 22          4           38                  
12 ""           Skeleton     1924,… 6           2           6                   
13 ""           Ski acrobat… Depui… 7           10          18                  
14 ""           Ski alpin    Depui… 19          10          132                 
15 ""           Ski de fond  Depui… 22          12          134                 
16 ""           Snowboard    Depui… 5           10          14                  
# ℹ 5 more variables: `médailles décernés` &lt;chr&gt;, `médailles décernés` &lt;chr&gt;,
#   `médailles décernés` &lt;chr&gt;,
#   `Athlète(s) avec le plus de médailles (Or-Argent-Bronze)` &lt;chr&gt;,
#   `Athlète(s) avec le plus de médailles d'or` &lt;chr&gt;</code></pre>
</div>
</div>
<section id="suppression-de-la-première-colonne-et-de-la-première-ligne" class="level5">
<h5 class="anchored" data-anchor-id="suppression-de-la-première-colonne-et-de-la-première-ligne">Suppression de la première colonne et de la première ligne</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>hiver <span class="ot">&lt;-</span> hiver[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(hiver) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Discipline"</span>, <span class="st">"Annee"</span>, <span class="st">"Editions"</span>, <span class="st">"Epreuves_2014"</span>, <span class="st">"Or"</span>, <span class="st">"Argent"</span>, <span class="st">"Bronze"</span>, <span class="st">"Total"</span>, <span class="st">"Athletes_medailles"</span>, <span class="st">"Athletes_or"</span>)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>hiver <span class="ot">&lt;-</span> hiver[<span class="sc">-</span><span class="dv">1</span>,]</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(hiver)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [15 × 10] (S3: tbl_df/tbl/data.frame)
 $ Discipline        : chr [1:15] "Biathlon" "Bobsleigh" "Combiné nordique" "Curling" ...
 $ Annee             : chr [1:15] "1924,Depuis 1960" "1924-1956,depuis 1964" "Depuis 1924" "1924,depuis 1998" ...
 $ Editions          : chr [1:15] "16" "21" "22" "4" ...
 $ Epreuves_2014     : chr [1:15] "11" "3" "3" "2" ...
 $ Or                : chr [1:15] "54" "39" "28" "7" ...
 $ Argent            : chr [1:15] "54" "37" "28" "7" ...
 $ Bronze            : chr [1:15] "54" "39" "28" "7" ...
 $ Total             : chr [1:15] "162" "115" "84" "21" ...
 $ Athletes_medailles: chr [1:15] "Ole Einar Bjørndalen (NOR) (8-4-1)" "Bogdan Musiol (RDA) (1-5-1)" "Felix Gottwald (AUT) (3-1-3)" "Anna Le Moine (SWE) (2-0-0) Cathrine Lindahl (SWE) (2-0-0) Eva Lund (SWE) (2-0-0) Anette Norberg (SWE) (2-0-0)\"| __truncated__ ...
 $ Athletes_or       : chr [1:15] "Ole Einar Bjørndalen (NOR) (8-4-1)" "Kevin Kuske (GER) (4-1-0) André Lange (GER) (4-1-0)" "Samppa Lajunen (FIN) (3-2-0)\n Eric Frenzel (GER) (3-1-2)\n Felix Gottwald (AUT) (3-1-3) Johan Grøttumsbråten ("| __truncated__ "Anna Le Moine (SWE) (2-0-0) Cathrine Lindahl (SWE) (2-0-0) Eva Lund (SWE) (2-0-0) Anette Norberg (SWE) (2-0-0)\"| __truncated__ ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>hiver <span class="ot">&lt;-</span> hiver <span class="sc">|&gt;</span> </span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Editions =</span> <span class="fu">as.integer</span>(Editions),</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">Epreuves_2014 =</span> <span class="fu">as.integer</span>(Epreuves_2014),</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">Or =</span> <span class="fu">as.integer</span>(Or),</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">Argent =</span> <span class="fu">as.integer</span>(Argent),</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">Bronze =</span> <span class="fu">as.integer</span>(Bronze),</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">Total =</span> <span class="fu">as.integer</span>(Total))</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(hiver)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 10
   Discipline             Annee Editions Epreuves_2014    Or Argent Bronze Total
   &lt;chr&gt;                  &lt;chr&gt;    &lt;int&gt;         &lt;int&gt; &lt;int&gt;  &lt;int&gt;  &lt;int&gt; &lt;int&gt;
 1 Biathlon               1924…       16            11    54     54     54   162
 2 Bobsleigh              1924…       21             3    39     37     39   115
 3 Combiné nordique       Depu…       22             3    28     28     28    84
 4 Curling                1924…        4             2     7      7      7    21
 5 Hockey sur glace       Été&nbsp;…       23             2    24     24     24    72
 6 Luge                   Depu…       14             4    37     35     36   108
 7 Patinage artistique    Été&nbsp;…       24             4    77     75     76   228
 8 Patinage de vitesse    Depu…       22            12   152    155    148   455
 9 Patinage de vitesse s… Depu…        7             8    32     32     32    96
10 Saut à ski             Depu…       22             4    38     39     37   114
11 Skeleton               1924…        6             2     6      6      6    18
12 Ski acrobatique        Depu…        7            10    18     18     18    54
13 Ski alpin              Depu…       19            10   132    135    130   397
14 Ski de fond            Depu…       22            12   134    132    133   399
15 Snowboard              Depu…        5            10    14     14     14    42
# ℹ 2 more variables: Athletes_medailles &lt;chr&gt;, Athletes_or &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(hiver)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [15 × 10] (S3: tbl_df/tbl/data.frame)
 $ Discipline        : chr [1:15] "Biathlon" "Bobsleigh" "Combiné nordique" "Curling" ...
 $ Annee             : chr [1:15] "1924,Depuis 1960" "1924-1956,depuis 1964" "Depuis 1924" "1924,depuis 1998" ...
 $ Editions          : int [1:15] 16 21 22 4 23 14 24 22 7 22 ...
 $ Epreuves_2014     : int [1:15] 11 3 3 2 2 4 4 12 8 4 ...
 $ Or                : int [1:15] 54 39 28 7 24 37 77 152 32 38 ...
 $ Argent            : int [1:15] 54 37 28 7 24 35 75 155 32 39 ...
 $ Bronze            : int [1:15] 54 39 28 7 24 36 76 148 32 37 ...
 $ Total             : int [1:15] 162 115 84 21 72 108 228 455 96 114 ...
 $ Athletes_medailles: chr [1:15] "Ole Einar Bjørndalen (NOR) (8-4-1)" "Bogdan Musiol (RDA) (1-5-1)" "Felix Gottwald (AUT) (3-1-3)" "Anna Le Moine (SWE) (2-0-0) Cathrine Lindahl (SWE) (2-0-0) Eva Lund (SWE) (2-0-0) Anette Norberg (SWE) (2-0-0)\"| __truncated__ ...
 $ Athletes_or       : chr [1:15] "Ole Einar Bjørndalen (NOR) (8-4-1)" "Kevin Kuske (GER) (4-1-0) André Lange (GER) (4-1-0)" "Samppa Lajunen (FIN) (3-2-0)\n Eric Frenzel (GER) (3-1-2)\n Felix Gottwald (AUT) (3-1-3) Johan Grøttumsbråten ("| __truncated__ "Anna Le Moine (SWE) (2-0-0) Cathrine Lindahl (SWE) (2-0-0) Eva Lund (SWE) (2-0-0) Anette Norberg (SWE) (2-0-0)\"| __truncated__ ...</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>calcul_medailles_individuelles_purrr <span class="ot">&lt;-</span> <span class="cf">function</span>(data_frame) {</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    medailles_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">Athlete =</span> <span class="fu">gsub</span>(<span class="st">"[file://</span><span class="sc">\\</span><span class="st">s*</span><span class="sc">\\</span><span class="st">(.*</span><span class="sc">\\</span><span class="st">]</span><span class="sc">\\</span><span class="st">s*</span><span class="sc">\\</span><span class="st">(.*</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">""</span>, data_frame<span class="sc">$</span>Athletes_medailles),</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">Pays =</span> <span class="fu">gsub</span>(<span class="st">".*</span><span class="sc">\\</span><span class="st">((</span><span class="sc">\\</span><span class="st">w+)</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>, data_frame<span class="sc">$</span>Athletes_medailles),</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">OR =</span> <span class="fu">as.integer</span>(<span class="fu">gsub</span>(<span class="st">".*</span><span class="sc">\\</span><span class="st">((</span><span class="sc">\\</span><span class="st">d+)-</span><span class="sc">\\</span><span class="st">d+-</span><span class="sc">\\</span><span class="st">d+</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>, data_frame<span class="sc">$</span>Athletes_medailles)),</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">ARGENT =</span> <span class="fu">as.integer</span>(<span class="fu">gsub</span>(<span class="st">".*</span><span class="sc">\\</span><span class="st">(</span><span class="sc">\\</span><span class="st">d+-(</span><span class="sc">\\</span><span class="st">d+)-</span><span class="sc">\\</span><span class="st">d+</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>, data_frame<span class="sc">$</span>Athletes_medailles)),</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">BRONZE =</span> <span class="fu">as.integer</span>(<span class="fu">gsub</span>(<span class="st">".*</span><span class="sc">\\</span><span class="st">(</span><span class="sc">\\</span><span class="st">d+-</span><span class="sc">\\</span><span class="st">d+-(</span><span class="sc">\\</span><span class="st">d+)</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>, data_frame<span class="sc">$</span>Athletes_medailles))</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>    medailles_df<span class="sc">$</span>TotalMedailles <span class="ot">&lt;-</span> medailles_df<span class="sc">$</span>OR <span class="sc">+</span> medailles_df<span class="sc">$</span>ARGENT <span class="sc">+</span> medailles_df<span class="sc">$</span>BRONZE</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>    classement_df <span class="ot">&lt;-</span> medailles_df[<span class="fu">order</span>(<span class="sc">-</span>medailles_df<span class="sc">$</span>TotalMedailles, <span class="sc">-</span>medailles_df<span class="sc">$</span>OR, <span class="sc">-</span>medailles_df<span class="sc">$</span>ARGENT, <span class="sc">-</span>medailles_df<span class="sc">$</span>BRONZE), ]</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>    meilleurs_athletes <span class="ot">&lt;-</span> <span class="fu">head</span>(classement_df<span class="sc">$</span>Athlete, <span class="dv">3</span>)</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>    phrase <span class="ot">&lt;-</span> <span class="fu">cat</span>(<span class="st">"Les 3 meilleurs athlètes sont :</span><span class="sc">\n</span><span class="st">"</span>, <span class="fu">paste</span>(<span class="st">"- "</span>, meilleurs_athletes, <span class="at">collapse =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>))</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(phrase)</span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a><span class="fu">calcul_medailles_individuelles_purrr</span>(hiver)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Les 3 meilleurs athlètes sont :
 -  Marit Bjørgen (NOR) (8-4-3)
-  Ole Einar Bjørndalen (NOR) (8-4-1)
-  Ireen Wüst (NED) (5-5-1)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
<p>Les trois meilleurs athlètes sont donc :</p>
<ul>
<li><p>Marit Bjørgen (NOR)</p></li>
<li><p>Ole Einar Bjørndalen (NOR)</p></li>
<li><p>Ireen Wüst (NED)</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>extraire_nationalite_athlete <span class="ot">&lt;-</span> <span class="cf">function</span>(chaine) {</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  nationalites <span class="ot">&lt;-</span> <span class="fu">regmatches</span>(chaine, <span class="fu">gregexpr</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">b[A-Z]{3}</span><span class="sc">\\</span><span class="st">b"</span>, chaine, <span class="at">perl=</span><span class="cn">TRUE</span>))[[<span class="dv">1</span>]]</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(nationalites)</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>nationalites_list <span class="ot">&lt;-</span> <span class="fu">map</span>(hiver<span class="sc">$</span>Athletes_or, extraire_nationalite_athlete) <span class="sc">|&gt;</span> </span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flatten_chr</span>()</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>top3_nationalites <span class="ot">&lt;-</span> nationalites_list <span class="sc">|&gt;</span> </span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">|&gt;</span> </span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sort</span>(<span class="at">decreasing =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">3</span>)</span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(top3_nationalites)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>nationalites_list
CAN NOR GER 
  8   7   6 </code></pre>
</div>
</div>
<p>Les trois nations les plus représentées pour toutes les épreuves au classement du nombre de médailles d’or individuelles sont les suivantes :</p>
<ul>
<li><p>Le Canada, avec un total de 8 médailles d’or individuelles</p></li>
<li><p>La Norvège, qui compte 7 médailles d’or individuelles</p></li>
<li><p>L’Allemagne, avec 6 médailles d’or individuelles</p></li>
</ul>
<p>La fonction purr semble offrir une syntaxe plus cohérente, plus lisible et flexible pour appliquer des opérations sur des listes. Les résultats sont différents des précédents.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>